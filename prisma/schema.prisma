generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// READ-ONLY: Existing table - do not modify via Prisma migrations
model ticker_raw_data {
  id                     Int       @id @default(autoincrement())
  timecreated            DateTime?
  ticker_id              String?
  symbol                 String?
  name                   String?
  issuedate              DateTime?
  quantityissued         BigInt?
  parvalue               Decimal?  @db.Decimal(18, 4)
  lasttradedprice        Decimal?  @db.Decimal(18, 4)
  wtdhiprice             Decimal?  @db.Decimal(18, 4)
  mtdhiprice             Decimal?  @db.Decimal(18, 4)
  ytdhiprice             Decimal?  @db.Decimal(18, 4)
  p12hiprice             Decimal?  @db.Decimal(18, 4)
  allhiprice             Decimal?  @db.Decimal(18, 4)
  alllowprice            Decimal?  @db.Decimal(18, 4)
  wtdlowprice            Decimal?  @db.Decimal(18, 4)
  mtdlowprice            Decimal?  @db.Decimal(18, 4)
  ytdlowprice            Decimal?  @db.Decimal(18, 4)
  p12lowprice            Decimal?  @db.Decimal(18, 4)
  tdysharevolume         BigInt?
  wdysharevolume         BigInt?
  mtdsharevolume         BigInt?
  ytdsharevolume         BigInt?
  p12sharevolume         BigInt?
  tdytradevolume         BigInt?
  tdyturnover            Decimal?  @db.Decimal(20, 4)
  wtdturnover            Decimal?  @db.Decimal(20, 4)
  mtdturnover            Decimal?  @db.Decimal(20, 4)
  ytdturnover            Decimal?  @db.Decimal(20, 4)
  previousclose          Decimal?  @db.Decimal(18, 4)
  hitrade                Decimal?  @db.Decimal(18, 4)
  lowtrade               Decimal?  @db.Decimal(18, 4)
  closingprice           Decimal?  @db.Decimal(18, 4)
  marketcap              Decimal?  @db.Decimal(22, 4)
  marketcappercentage    Decimal?  @db.Decimal(7, 4)
  change                 Decimal?  @db.Decimal(18, 4)
  changepercentage       Decimal?  @db.Decimal(7, 4)
  symbolindexsharevolume BigInt?
  isin                   String?
  sharesHeld             Int?

  @@map("ticker_raw_data")
}

// READ-ONLY: Existing table - do not modify via Prisma migrations
model index_raw_data {
  id          Int       @id @default(autoincrement())
  ticker_id   String?
  ticker      String?
  value       Decimal?  @db.Decimal(18, 4)
  lowvalue    Decimal?  @db.Decimal(18, 4)
  highvalue   Decimal?  @db.Decimal(18, 4)
  change      Decimal?  @db.Decimal(18, 4)
  percentage  Decimal?  @db.Decimal(7, 4)
  sectorid    String?
  timestamp   DateTime?
  timeCreated DateTime? @map("timeCreated")

  @@map("index_raw_data")
}

// WRITABLE: User portfolio holdings
model portfolio_holdings {
  id          Int      @id @default(autoincrement())
  symbol      String   @unique
  shares_held Int      @default(0)
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt

  @@map("portfolio_holdings")
}

// WRITABLE: Manual assets (FD, bonds, cash, other)
model manual_assets {
  id         Int       @id @default(autoincrement())
  name       String
  type       AssetType
  value      Decimal
  notes      String?
  created_at DateTime  @default(now())
  updated_at DateTime  @updatedAt

  @@map("manual_assets")
}

enum AssetType {
  FD
  BOND
  CASH
  OTHER
}
